<Window x:Class="TimeQuestLogDesktopApp.Views.AddGameView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TimeQuestLogDesktopApp.Views" xmlns:viewmodels="clr-namespace:TimeQuestLogDesktopApp.ViewModels" d:DataContext="{d:DesignInstance Type=viewmodels:AddGameViewModel}"
        mc:Ignorable="d"
        Title="Add Game to Library" Height="1000" Width="1400"
        Background="{StaticResource BackgroundBrush}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="110"/>
            <RowDefinition Height="500"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Grid.Column="1">
            <Label Foreground="{StaticResource TextPrimaryBrush}" Content="Search Game"/>
            <TextBox
                Style="{StaticResource RoundedTextBoxStyle}"
                Width="450"
                Text="{Binding GameSearch, UpdateSourceTrigger=PropertyChanged}"
            />
            <Button
                Margin="0 10 0 0"
                Style="{StaticResource RoundedButtonStyle}"
                Content="Search"
                Command="{Binding SearchIGDBGames}"
                />
        </StackPanel>
        <DataGrid 
            Grid.Row="1" 
            Grid.Column="0" 
            Grid.ColumnSpan="3" 
            IsReadOnly="True" 
            ItemsSource="{Binding Games}" 
            SelectedItem="{Binding SelectedGame}"
            AutoGenerateColumns="False" 
            Margin="10">
            <DataGrid.Columns>
                <DataGridTemplateColumn Header="" Width="120">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Grid>
                                <Image Source="{Binding cover.url}" Width="100" Height="125" 
                                VerticalAlignment="Center" HorizontalAlignment="Center" />
                            </Grid>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Name" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding name}" 
                              VerticalAlignment="Center" 
                              Margin="5,0" />       
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Release Date" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding first_release_date}" 
                               VerticalAlignment="Center" 
                               Margin="5,0" />      
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <StackPanel Grid.Column="1" Grid.Row="2">
            <Label Content="Selected Game" Foreground="{StaticResource TextPrimaryBrush}" />
            <TextBox
                Style="{StaticResource RoundedTextBoxStyle}"
                Width="450"
                IsReadOnly="True" Text="{Binding SelectedGame.name, UpdateSourceTrigger=PropertyChanged}" />
            <Label Content="Exe Name" Foreground="{StaticResource TextPrimaryBrush}" />
            <StackPanel
                Orientation="Horizontal"
                HorizontalAlignment="Center"
                >
                <TextBox  
                    Style="{StaticResource RoundedTextBoxStyle}" 
                    Width="340" Text="{Binding ExeName, UpdateSourceTrigger=PropertyChanged}" />
                <Button
                    Margin="10 0 0 0"
                    Style="{StaticResource RoundedButtonStyle}"
                    Content="Select Game"
                    Command="{Binding SelectExecutableCommand}"
                    />
            </StackPanel>
            <Button 
                Margin="0 10 0 0"
                Style="{StaticResource RoundedButtonStyle}" 
                Command="{Binding AddGameToLibraryCommand}"
                Content="Add to Library" />
        </StackPanel>
    </Grid>
</Window>
